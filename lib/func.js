import axios from"axios";import cheerio from"cheerio";import Jimp from"jimp";function _token(host){return new Promise((async(resolve,reject)=>{axios.request({url:host,method:"GET",headers:headers}).then((({data:data})=>{let token=cheerio.load(data)("#token").attr("value");resolve(token)}))}))}function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1).toLowerCase()}const delay=time=>new Promise((res=>setTimeout(res,time)));function generate(n){var max=11;if(n>max)return generate(max)+generate(n-max);var min=(max=Math.pow(10,n+1))/10;return(""+(Math.floor(Math.random()*(max-min+1))+min)).substring(1)}async function getBuffer(url,options){try{return(await axios({method:"get",url:url,headers:{DNT:1,"Upgrade-Insecure-Request":1},...options,responseType:"arraybuffer"})).data}catch(err){return err}}const getRandom=ext=>`${Math.floor(1e4*Math.random())}${ext}`,headers={"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",cookie:"PHPSESSID=ugpgvu6fgc4592jh7ht9d18v49; _ga=GA1.2.1126798330.1625045680; _gid=GA1.2.1475525047.1625045680; __gads=ID=92b58ed9ed58d147-221917af11ca0021:T=1625045679:RT=1625045679:S=ALNI_MYnQToDW3kOUClBGEzULNjeyAqOtg"};function isNumber(number){return number?"number"==typeof(number=parseInt(number))&&!isNaN(number):number}function isUrl(string){try{return new URL(string),!0}catch(err){return!1}}function niceBytes(x){let l=0,n=parseInt(x,10)||0;for(;n>=1024&&++l;)n/=1024;return n.toFixed(n<10&&l>0?1:0)+" "+["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][l]}function padLead(num,size){for(var s=num+"";s.length<size;)s="0"+s;return s}function pickRandom(list){return list[Math.floor(list.length*Math.random())]}function ranNumb(min,max=null){return null!==max?(min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min+1))+min):Math.floor(Math.random()*min)+1}const readMore=String.fromCharCode(8206).repeat(4001);async function resize(buffer,width,height){var oyy=await Jimp.read(buffer);return await oyy.resize(width,height).getBufferAsync(Jimp.MIME_JPEG)}function runtime(seconds){seconds=Number(seconds);var d=Math.floor(seconds/86400),h=Math.floor(seconds%86400/3600),m=Math.floor(seconds%3600/60),s=Math.floor(seconds%60);return(d>0?d+(1==d?" day, ":" days, "):"")+(h>0?h+(1==h?" hour, ":" hours, "):"")+(m>0?m+(1==m?" minute, ":" minutes, "):"")+(s>0?s+(1==s?" second":" seconds"):"")}function runtimes(seconds){seconds=Number(seconds);var d=Math.floor(seconds/86400),h=Math.floor(seconds%86400/3600),m=Math.floor(seconds%3600/60),s=Math.floor(seconds%60);return(d>0?d+"d ":"")+(h<10?"0"+h+":":h>0?h+":":"")+(m<10?"0"+m+":":m>0?m+":":"")+(s<10?"0"+s:s>0?s:"")}const someincludes=(data,id)=>!!data.find((el=>id.includes(el))),somematch=(data,id)=>!!data.find((el=>el===id));function stream2buffer(stream){return new Promise(((resolve,reject)=>{const _buf=[];stream.on("data",(chunk=>_buf.push(chunk))),stream.on("end",(()=>resolve(Buffer.concat(_buf)))),stream.on("error",(err=>reject(err)))}))}export{_token,capitalizeFirstLetter,delay,generate,getBuffer,getRandom,headers,isUrl,isNumber,niceBytes,padLead,pickRandom,ranNumb,resize,runtime,runtimes,readMore,someincludes,somematch,stream2buffer};